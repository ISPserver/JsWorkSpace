<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>베네치아 타자 게임</title>
  <style>
    .wrapper{
      width: 1200px;
      height: 700px;
      background: yellow;
      margin: auto;
      overflow: hidden;
    }
    .dash{
      width: 200px;
      height: 100%;
      background: gold;
      float: left;
    }
    #stage{
      width: 1000px;
      height: 100%;
      background: dodgerblue;
      float: left;
      position: relative;
    }
    #stage span{
      color: white;
      font-weight: bold;
      font-size: 16px;
    }
  </style>
  <script src="../js/lib.js"></script>
  <script>
      /* 타자게임에 등장할 모든 단어 데이터베이스 2차월 배열인 이유는?
        stage가 여러판이기 때문에*/
    var  word=[
      ["사과","바나나","레몬","수박","멜론","감","귤","배","키위","토마토"],
      ["한국","미국","중국","일본","태국","영국","독일","홍콩","호주",""],
      ["키보드","마우스","스피커","노트북","헤드셋","배터리","본체","블루투스","",""],
      ["강아지","고양이","악어","오랑우탄","북극곰","바다표범","물고기","햄스터","타란튤라","고슴도치"],
      ["C언어","자바","파이썬","오라클","mysql","안드로이드","IOS","리눅스","유닉스","윈도우"]
    ];
    var stage;
    var span;
    var level=0; //게이머의 현재 레벨을 표현하는 변수, 5level까지 있음
    var spanArray=[]; //단어 10개의 span을 모아둘 배열
    var stepY=10;
    var flag=false;//단어가 움직일지 여부를 결정짓는 논리값 변수
    
    function createWord(){
      //해당 stage에 등장할 단어만큼 생성
      for(var i=0; i<word[level].length; i++){
        span=document.createElement("span"); //inline이므로 너비,높이 가질 수 없고
        //내부의 컨텐츠만큼 감싼다 wrapping                                                           
        span.innerHTML=word[level][i];
        span.style.position="absolute";
      span.style.left=(i*95)+"px";
      span.style.top=150+getRandomBetween(-100,0)+"px";      
      stage.appendChild(span);
      spanArray.push(span);//스팬을 배열에 보관! 왜? 움직이기 위해
    }
  }
    //단어 내려오는 함수
    function move(){
      if(flag){
        for(var i=0; i<spanArray.length; i++){
          spanArray[i].style.top=parseInt(spanArray[i].style.top)+stepY+"px";
        }
      }
    }
    function startGame(){
      flag=!flag;
    }
    function init(){
      stage=document.getElementById("stage");
    }
    window.addEventListener("load", function(){
      init();
      createWord();//단어 화면에 출력
      setInterval("move()",500);
    })


  </script>
</head>
<body>
  <div class="wrapper">
    <div class="dash">
      <button onclick="startGame()">START</button>
    </div>
    <div id="stage"></div>
  </div>
</body>
</html>